(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{4213:function(e,s,t){Promise.resolve().then(t.bind(t,2710))},2710:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var c=t(3827),r=t(8792),a=t(4090);let l=(e,s,t)=>{let c=(s-1)*t;return e.slice(c,c+t)};var i=e=>{let{items:s,pageSize:t,currentPage:r,onPageChange:a}=e,l=Math.ceil(s/t);if(1===l)return null;let i=Array.from({length:l},(e,s)=>s+1);return console.log(i),(0,c.jsx)("div",{children:(0,c.jsx)("ul",{className:"pagination justify-content-center mt-0",children:i.map(e=>(0,c.jsx)("li",{className:e===r?"page-item active":"page-item",children:(0,c.jsx)("a",{className:"page-link",href:"javascript:;",onClick:()=>a(e),children:e})},e))})})},n=t(7907),o=t(8634),d=t(870);async function m(){return(await fetch("http://localhost:3000/assets/products.json").then(e=>e.json())).map(e=>({slug:e.product_id,product_id:e.product_id,name:e.name,category:e.category,collection:e.collection,range:e.range,price:e.price,discount:e.discount,image:e.image,description:e.description}))}function h(){let e=(0,n.useSearchParams)(),[s,t]=(0,a.useState)(e.get("range")),[h,u]=(0,a.useState)(e.get("category")),[p,g]=(0,a.useState)(1),[f,x]=(0,a.useState)([]),[j,v]=(0,a.useState)([]),[N,y]=(0,a.useState)([]),[b,C]=(0,a.useState)([]),[w,k]=(0,a.useState)([]),R=[{value:"recommended",label:"Recommended"},{value:"priceAsc",label:"Price: Low to High"},{value:"priceDsc",label:"Price: High to Low"},{value:"discountDsc",label:"Discount: High to low"},{value:"discountAsc",label:"Discount: Low to High"},{value:"nameAsc",label:"Name: A to Z"},{value:"nameDsc",label:"Name: Z to A"}],[S,P]=(0,a.useState)({keyword:"",price:{from:0,to:0},selectedRanges:s?[s]:[],selectedCategories:h?[h]:[],sortBy:R[0]});(0,a.useEffect)(()=>{async function e(){let e=await m();x(e);let s=Array.from(new Set(e.map(e=>e.range))),t=Array.from(new Set(e.map(e=>e.category)));y([...N,...s]),C([...b,...t])}0===f.length&&e()},[]);let B=e=>{if(S.sortBy){if("nameAsc"===S.sortBy.value)return e.sort((e,s)=>e.name.toLowerCase()>s.name.toLowerCase()?1:e.name.toLowerCase()<s.name.toLowerCase()?-1:0);if("nameDsc"===S.sortBy.value)return e.sort((e,s)=>e.name.toLowerCase()>s.name.toLowerCase()?-1:e.name.toLowerCase()<s.name.toLowerCase()?1:0);if("priceAsc"===S.sortBy.value)return e.sort((e,s)=>e.price>s.price?1:e.price<s.price?-1:0);if("priceDsc"===S.sortBy.value)return e.sort((e,s)=>e.price>s.price?-1:e.price<s.price?1:0);else if("discountAsc"===S.sortBy.value)return e.sort((e,s)=>e.discount>s.discount?1:e.discount<s.discount?-1:0);else if("discountDsc"===S.sortBy.value)return e.sort((e,s)=>e.discount>s.discount?-1:e.discount<s.discount?1:0)}return e},L=(e,s)=>e.filter(e=>Object.keys(e).some(t=>(console.log(e[t]),"string"==typeof e[t]&&e[t].toLowerCase().includes(s.toLowerCase())))),_=(e,s,t)=>"from"===t?e.filter(e=>e.price>s):e.filter(e=>e.price<s);(0,a.useEffect)(()=>{if(f.length){let e=[];S.selectedRanges.length&&(e=0==e.length?f.filter(e=>S.selectedRanges.includes(e.range)):e.filter(e=>S.selectedRanges.includes(e.range))),S.selectedCategories.length&&(e=0==e.length?f.filter(e=>S.selectedCategories.includes(e.category)):e.filter(e=>S.selectedCategories.includes(e.category))),S.keyword&&(e=0==e.length?L(f,S.keyword):L(e,S.keyword)),S.price.from&&(e=0==e.length?_(f,S.price.from,"from"):_(e,S.price.from,"from")),S.price.to&&(e=0==e.length?_(f,S.price.to,"to"):_(e,S.price.to,"to")),v(S.selectedRanges.length||S.selectedCategories.length||S.keyword||S.price.from||S.price.to?B(e):B(f)),g(1)}},[f,S.selectedRanges,S.selectedCategories,S.sortBy,S.keyword,S.price.from,S.price.to]),(0,a.useEffect)(()=>{let e=l(j,p,12);k(e);let s=[];for(;e.length;)s.push(e.splice(0,4));k(s)},[p,j]);let A=e=>{let s=S.selectedRanges.indexOf(e);s>-1?(console.log(S.selectedRanges.splice(s,1)),P({...S,selectedRanges:[...S.selectedRanges]})):P({...S,selectedRanges:[...S.selectedRanges,e]})},D=e=>{let s=S.selectedCategories.indexOf(e);s>-1?(console.log(S.selectedCategories.splice(s,1)),P({...S,selectedCategories:[...S.selectedCategories]})):P({...S,selectedCategories:[...S.selectedCategories,e]})},E=e=>{console.log(e),P({...S,sortBy:e})},F=e=>{P({...S,keyword:e.target.value})},O=(e,s)=>{"from"===s?P({...S,price:{...S.price,from:parseInt(e.target.value)}}):"to"===s&&P({...S,price:{...S.price,to:parseInt(e.target.value)}})};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{id:"page-header",className:"section-container page-header-container bg-dark",children:[(0,c.jsx)("div",{className:"page-header-cover",children:(0,c.jsx)("img",{src:"../assets/img/cover/cover-12.jpg",alt:""})}),(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("h1",{className:"page-header",children:[(0,c.jsx)("b",{children:"PAPE"})," Products"]})})]}),(0,c.jsx)("div",{id:"search-results",className:"section-container",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"search-container",children:[(0,c.jsxs)("div",{className:"search-sidebar",children:[(0,c.jsx)("h4",{className:"title",children:"Filter By"}),(0,c.jsxs)("form",{action:"product.html",method:"POST",name:"filter_form",children:[(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{className:"form-label",children:"Keywords"}),(0,c.jsx)("input",{type:"text",className:"form-control input-sm",name:"keyword",value:S.keyword,onChange:e=>F(e),placeholder:"Enter Keywords"})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{className:"form-label",children:"Price"}),(0,c.jsxs)("div",{className:"row row-space-0",children:[(0,c.jsx)("div",{className:"col-md-5",children:(0,c.jsx)("input",{type:"number",className:"form-control input-sm",name:"price_from",value:S.price.from,onChange:e=>O(e,"from"),placeholder:"Price From"})}),(0,c.jsx)("div",{className:"col-md-2 text-center pt-5px fs-12px text-muted",children:"to"}),(0,c.jsx)("div",{className:"col-md-5",children:(0,c.jsx)("input",{type:"number",className:"form-control input-sm",name:"price_to",value:S.price.to,onChange:e=>O(e,"to"),placeholder:"Price To"})})]})]})]}),(0,c.jsx)("br",{}),(0,c.jsx)("h4",{className:"title mb-0",children:"Ranges"}),(0,c.jsx)("ul",{className:"search-category-list",children:N&&N.map(e=>(0,c.jsx)("li",{children:(0,c.jsxs)("div",{className:"form-check mt-2 mb-2",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",checked:S.selectedRanges.includes(e),value:e,id:e,onChange:()=>A(e)}),(0,c.jsxs)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:[e," ",(0,c.jsx)("span",{className:"pull-right",children:"(10)"})]})]})}))}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("h4",{className:"title mb-0",children:"Categories"}),(0,c.jsx)("ul",{className:"search-category-list",children:b&&b.map(e=>(0,c.jsx)("li",{children:(0,c.jsxs)("div",{className:"form-check mt-2 mb-2",children:[(0,c.jsx)("input",{className:"form-check-input",type:"checkbox",checked:S.selectedCategories.includes(e),value:e,id:e,onChange:()=>D(e)}),(0,c.jsxs)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:[e," ",(0,c.jsx)("span",{className:"pull-right",children:"(10)"})]})]})}))})]}),(0,c.jsxs)("div",{className:"search-content",children:[(0,c.jsx)("div",{className:"search-toolbar",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-lg-6",children:(0,c.jsx)("h4",{})}),(0,c.jsx)("div",{className:"col-lg-6 product-sort",children:(0,c.jsx)(d.ZP,{styles:{control:e=>({...e,paddingLeft:"1rem"})},components:{Control:e=>{let{children:s,...t}=e,{emoji:r,onEmojiClick:a}=t.selectProps;return(0,c.jsxs)(o.c.Control,{...t,children:[(0,c.jsx)("span",{children:"Sort By: "}),s]})}},className:"react-select-container",options:R,value:S.sortBy,onChange:e=>E(e),placeholder:"Sort By"})})]})}),(0,c.jsx)("div",{className:"search-item-container",children:w&&w.map((e,s)=>(0,c.jsx)("div",{className:"item-row",children:e&&e.map((e,s)=>(0,c.jsxs)("div",{className:"item item-thumbnail",children:[(0,c.jsxs)(r.default,{className:"item-image",href:"/products/"+e.product_id,children:[(0,c.jsx)("img",{src:"../assets/img/products/"+e.range+" RANGE/"+e.image,alt:""}),(0,c.jsx)("div",{className:"discount",children:"15% OFF"})]}),(0,c.jsxs)("div",{className:"item-info",children:[(0,c.jsx)("h4",{className:"item-title",children:(0,c.jsxs)("a",{href:"/products/"+e.product_id,children:[e.name,(0,c.jsx)("br",{}),e.range]})}),"             ",(0,c.jsx)("div",{className:"item-price",children:e.price}),(0,c.jsx)("div",{className:"item-discount-price",children:e.price})]})]},s))},s))}),(0,c.jsx)(i,{items:j.length,currentPage:p,pageSize:12,onPageChange:e=>{g(e)}})]})]})})})]})}}},function(e){e.O(0,[250,256,971,69,744],function(){return e(e.s=4213)}),_N_E=e.O()}]);